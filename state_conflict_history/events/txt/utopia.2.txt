namespace = utopia
namespace = mega
namespace = feda
country_event = {
    id = utopia.2
    title = "utopia.2.name"
    desc = {
        trigger = {
            hidden:from = {
                switch = {
                    trigger = has_ethic
                    ethic_fanatic_xenophobe = {
                        text = utopia.2.desc.v1
                    }
                    ethic_fanatic_xenophile = {
                        text = utopia.2.desc.v2
                    }
                    ethic_fanatic_materialist = {
                        text = utopia.2.desc.v2
                    }
                    ethic_fanatic_spiritualist = {
                        text = utopia.2.desc.v4
                    }
                    ethic_fanatic_authoritarian = {
                        text = utopia.2.desc.v1
                    }
                    ethic_fanatic_egalitarian = {
                        text = utopia.2.desc.v2
                    }
                    ethic_fanatic_militarist = {
                        text = utopia.2.desc.v1
                    }
                    ethic_fanatic_pacifist = {
                        text = utopia.2.desc.v2
                    }
                }
            }
        }
    }
    picture = GFX_evt_ringworld
    show_sound = event_conversation
    location = from.capital_scope
    is_triggered_only = yes
    option = {
        name = utopia.2.a
        custom_tooltip = utopia.2.a.tooltip
        trigger = {
            from = {
                NOR = {
                    has_ethic = ethic_fanatic_xenophile
                    has_ethic = ethic_fanatic_materialist
                    has_ethic = ethic_fanatic_pacifist
                    has_ethic = ethic_fanatic_egalitarian
                }
            }
        }
        ai_chance = {
            factor = 10
        }
        hidden_effect = {
            from = {
                country_event = {
                    id = utopia.3
                    days = 5
                }
            }
            from = {
                country_event = {
                    id = utopia.5
                    days = 20
                }
            }
        }
        from = {
            add_opinion_modifier = {
                who = root
                modifier = opinion_ringworld_terms_accepted
            }
        }
        every_owned_megastructure = {
            limit = {
                OR = {
                    is_megastructure_type = ring_world_1
                    is_megastructure_type = ring_world_2
                }
                is_upgrading = yes
            }
            set_halted = 20
        }
        hidden_effect = {
            country_event = {
                id = utopia.6
                days = 20
            }
        }
    }
    option = {
        name = utopia.2.c
        trigger = {
            from = {
                OR = {
                    has_ethic = ethic_fanatic_xenophile
                    has_ethic = ethic_fanatic_materialist
                    has_ethic = ethic_fanatic_pacifist
                    has_ethic = ethic_fanatic_egalitarian
                }
            }
        }
        ai_chance = {
            factor = 10
        }
        hidden_effect = {
            from = {
                country_event = {
                    id = utopia.3
                    days = 5
                }
            }
            from = {
                country_event = {
                    id = utopia.5
                    days = 20
                }
            }
            country_event = {
                id = utopia.6
                days = 20
            }
        }
        from = {
            add_opinion_modifier = {
                who = root
                modifier = opinion_ringworld_terms_accepted
            }
        }
    }
    option = {
        name = utopia.2.b
        custom_tooltip = utopia.2.b.tooltip
        default_hide_option = yes
        ai_chance = {
            factor = 90
            modifier = {
                factor = 0
                OR = {
                    is_friendly_to = from
                    is_cordial_to = from
                    is_protective_to = from
                    is_loyal_to = from
                    relative_power = {
                        who = from
                        category = all
                        value = pathetic
                    }
                    relative_power = {
                        who = from
                        category = all
                        value = inferior
                    }
                }
            }
        }
        hidden_effect = {
            from = {
                country_event = {
                    id = utopia.4
                    days = 5
                }
            }
        }
        from = {
            add_opinion_modifier = {
                who = root
                modifier = opinion_ringworld_terms_denied
            }
        }
    }
}