namespace = utopia
namespace = mega
namespace = feda
ship_event = {
    id = utopia.2010
    title = "utopia.2010.name"
    desc = {
        trigger = {
            NOT = {
                owner = {
                    has_technology = tech_mega_engineering
                }
            }
        }
        text = utopia.2010.a.desc
    }
    desc = {
        trigger = {
            owner = {
                has_technology = tech_mega_engineering
            }
        }
        text = utopia.2010.b.desc
    }
    picture = GFX_evt_space_debris
    show_sound = event_radio_chatter
    location = FROM
    is_triggered_only = yes
    trigger = {
        FROM = {
            has_star_flag = ruined_dyson_system
            any_system_megastructure = {
                is_megastructure_type = dyson_sphere_ruined
            }
        }
    }
    immediate = {
        FROM = {
            save_event_target_as = dyson_system
        }
    }
    option = {
        name = "utopia.2010.a"
        trigger = {
            owner = {
                any_owned_megastructure = {
                    OR = {
                        is_megastructure_type = dyson_sphere_1
                        is_megastructure_type = dyson_sphere_2
                        is_megastructure_type = dyson_sphere_3
                        is_megastructure_type = dyson_sphere_4
                        is_megastructure_type = dyson_sphere_5
                    }
                }
            }
        }
    }
    option = {
        name = FASCINATING
        trigger = {
            NOT = {
                owner = {
                    any_owned_megastructure = {
                        OR = {
                            is_megastructure_type = dyson_sphere_1
                            is_megastructure_type = dyson_sphere_2
                            is_megastructure_type = dyson_sphere_3
                            is_megastructure_type = dyson_sphere_4
                            is_megastructure_type = dyson_sphere_5
                        }
                    }
                }
            }
        }
        hidden_effect = {
            owner = {
                country_event = {
                    id = story.5
                    days = 30
                }
            }
        }
    }
}